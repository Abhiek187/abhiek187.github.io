import{g as Y}from"./index-BVKlVkFt.js";function w(){return typeof navigator=="object"&&"userAgent"in navigator?navigator.userAgent:typeof process=="object"&&"version"in process?`Node.js/${process.version.substr(1)} (${process.platform}; ${process.arch})`:"<environment undetectable>"}var E={exports:{}},ee=H;function H(e,r,t,i){if(typeof t!="function")throw new Error("method for before hook must be a function");return i||(i={}),Array.isArray(r)?r.reverse().reduce(function(n,a){return H.bind(null,e,a,n,i)},t)():Promise.resolve().then(function(){return e.registry[r]?e.registry[r].reduce(function(n,a){return a.hook.bind(null,n,i)},t)():t(i)})}var re=te;function te(e,r,t,i){var n=i;e.registry[t]||(e.registry[t]=[]),r==="before"&&(i=function(a,s){return Promise.resolve().then(n.bind(null,s)).then(a.bind(null,s))}),r==="after"&&(i=function(a,s){var o;return Promise.resolve().then(a.bind(null,s)).then(function(u){return o=u,n(o,s)}).then(function(){return o})}),r==="error"&&(i=function(a,s){return Promise.resolve().then(a.bind(null,s)).catch(function(o){return n(o,s)})}),e.registry[t].push({hook:i,orig:n})}var ne=ie;function ie(e,r,t){if(e.registry[r]){var i=e.registry[r].map(function(n){return n.orig}).indexOf(t);i!==-1&&e.registry[r].splice(i,1)}}var F=ee,se=re,ae=ne,q=Function.bind,R=q.bind(q);function V(e,r,t){var i=R(ae,null).apply(null,t?[r,t]:[r]);e.api={remove:i},e.remove=i,["before","error","after","wrap"].forEach(function(n){var a=t?[r,n,t]:[r,n];e[n]=e.api[n]=R(se,null).apply(null,a)})}function oe(){var e="h",r={registry:{}},t=F.bind(null,r,e);return V(t,r,e),t}function L(){var e={registry:{}},r=F.bind(null,e);return V(r,e),r}var U=!1;function g(){return U||(console.warn('[before-after-hook]: "Hook()" repurposing warning, use "Hook.Collection()". Read more: https://git.io/upgrade-before-after-hook-to-1.4'),U=!0),L()}g.Singular=oe.bind();g.Collection=L.bind();E.exports=g;E.exports.Hook=g;E.exports.Singular=g.Singular;var ce=E.exports.Collection=g.Collection;/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function D(e){return Object.prototype.toString.call(e)==="[object Object]"}function B(e){var r,t;return D(e)===!1?!1:(r=e.constructor,r===void 0?!0:(t=r.prototype,!(D(t)===!1||t.hasOwnProperty("isPrototypeOf")===!1)))}var ue="9.0.0",le=`octokit-endpoint.js/${ue} ${w()}`,fe={method:"GET",baseUrl:"https://api.github.com",headers:{accept:"application/vnd.github.v3+json","user-agent":le},mediaType:{format:""}};function he(e){return e?Object.keys(e).reduce((r,t)=>(r[t.toLowerCase()]=e[t],r),{}):{}}function G(e,r){const t=Object.assign({},e);return Object.keys(r).forEach(i=>{B(r[i])?i in e?t[i]=G(e[i],r[i]):Object.assign(t,{[i]:r[i]}):Object.assign(t,{[i]:r[i]})}),t}function x(e){for(const r in e)e[r]===void 0&&delete e[r];return e}function T(e,r,t){var n;if(typeof r=="string"){let[a,s]=r.split(" ");t=Object.assign(s?{method:a,url:s}:{url:a},t)}else t=Object.assign({},r);t.headers=he(t.headers),x(t),x(t.headers);const i=G(e||{},t);return t.url==="/graphql"&&(e&&((n=e.mediaType.previews)!=null&&n.length)&&(i.mediaType.previews=e.mediaType.previews.filter(a=>!i.mediaType.previews.includes(a)).concat(i.mediaType.previews)),i.mediaType.previews=(i.mediaType.previews||[]).map(a=>a.replace(/-preview/,""))),i}function de(e,r){const t=/\?/.test(e)?"&":"?",i=Object.keys(r);return i.length===0?e:e+t+i.map(n=>n==="q"?"q="+r.q.split("+").map(encodeURIComponent).join("+"):`${n}=${encodeURIComponent(r[n])}`).join("&")}var pe=/\{[^}]+\}/g;function ge(e){return e.replace(/^\W+|\W+$/g,"").split(/,/)}function be(e){const r=e.match(pe);return r?r.map(ge).reduce((t,i)=>t.concat(i),[]):[]}function N(e,r){return Object.keys(e).filter(t=>!r.includes(t)).reduce((t,i)=>(t[i]=e[i],t),{})}function z(e){return e.split(/(%[0-9A-Fa-f]{2})/g).map(function(r){return/%[0-9A-Fa-f]/.test(r)||(r=encodeURI(r).replace(/%5B/g,"[").replace(/%5D/g,"]")),r}).join("")}function p(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(r){return"%"+r.charCodeAt(0).toString(16).toUpperCase()})}function v(e,r,t){return r=e==="+"||e==="#"?z(r):p(r),t?p(t)+"="+r:r}function d(e){return e!=null}function j(e){return e===";"||e==="&"||e==="?"}function ve(e,r,t,i){var n=e[t],a=[];if(d(n)&&n!=="")if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")n=n.toString(),i&&i!=="*"&&(n=n.substring(0,parseInt(i,10))),a.push(v(r,n,j(r)?t:""));else if(i==="*")Array.isArray(n)?n.filter(d).forEach(function(s){a.push(v(r,s,j(r)?t:""))}):Object.keys(n).forEach(function(s){d(n[s])&&a.push(v(r,n[s],s))});else{const s=[];Array.isArray(n)?n.filter(d).forEach(function(o){s.push(v(r,o))}):Object.keys(n).forEach(function(o){d(n[o])&&(s.push(p(o)),s.push(v(r,n[o].toString())))}),j(r)?a.push(p(t)+"="+s.join(",")):s.length!==0&&a.push(s.join(","))}else r===";"?d(n)&&a.push(p(t)):n===""&&(r==="&"||r==="?")?a.push(p(t)+"="):n===""&&a.push("");return a}function ye(e){return{expand:me.bind(null,e)}}function me(e,r){var t=["+","#",".","/",";","?","&"];return e.replace(/\{([^\{\}]+)\}|([^\{\}]+)/g,function(i,n,a){if(n){let o="";const u=[];if(t.indexOf(n.charAt(0))!==-1&&(o=n.charAt(0),n=n.substr(1)),n.split(/,/g).forEach(function(f){var c=/([^:\*]*)(?::(\d+)|(\*))?/.exec(f);u.push(ve(r,o,c[1],c[2]||c[3]))}),o&&o!=="+"){var s=",";return o==="?"?s="&":o!=="#"&&(s=o),(u.length!==0?o:"")+u.join(s)}else return u.join(",")}else return z(a)})}function W(e){var c;let r=e.method.toUpperCase(),t=(e.url||"/").replace(/:([a-z]\w+)/g,"{$1}"),i=Object.assign({},e.headers),n,a=N(e,["method","baseUrl","url","headers","request","mediaType"]);const s=be(t);t=ye(t).expand(a),/^http/.test(t)||(t=e.baseUrl+t);const o=Object.keys(e).filter(l=>s.includes(l)).concat("baseUrl"),u=N(a,o);if(!/application\/octet-stream/i.test(i.accept)&&(e.mediaType.format&&(i.accept=i.accept.split(/,/).map(l=>l.replace(/application\/vnd(\.\w+)(\.v3)?(\.\w+)?(\+json)?$/,`application/vnd$1$2.${e.mediaType.format}`)).join(",")),t.endsWith("/graphql")&&(c=e.mediaType.previews)!=null&&c.length)){const l=i.accept.match(/[\w-]+(?=-preview)/g)||[];i.accept=l.concat(e.mediaType.previews).map(b=>{const Q=e.mediaType.format?`.${e.mediaType.format}`:"+json";return`application/vnd.github.${b}-preview${Q}`}).join(",")}return["GET","HEAD"].includes(r)?t=de(t,u):"data"in u?n=u.data:Object.keys(u).length&&(n=u),!i["content-type"]&&typeof n<"u"&&(i["content-type"]="application/json; charset=utf-8"),["PATCH","PUT"].includes(r)&&typeof n>"u"&&(n=""),Object.assign({method:r,url:t,headers:i},typeof n<"u"?{body:n}:null,e.request?{request:e.request}:null)}function we(e,r,t){return W(T(e,r,t))}function X(e,r){const t=T(e,r),i=we.bind(null,t);return Object.assign(i,{DEFAULTS:t,defaults:X.bind(null,t),merge:T.bind(null,t),parse:W})}var Ee=X(null,fe);class P extends Error{constructor(r){super(r),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="Deprecation"}}var S={exports:{}},je=J;function J(e,r){if(e&&r)return J(e)(r);if(typeof e!="function")throw new TypeError("need wrapper function");return Object.keys(e).forEach(function(i){t[i]=e[i]}),t;function t(){for(var i=new Array(arguments.length),n=0;n<i.length;n++)i[n]=arguments[n];var a=e.apply(this,i),s=i[i.length-1];return typeof a=="function"&&a!==s&&Object.keys(s).forEach(function(o){a[o]=s[o]}),a}}var M=je;S.exports=M(m);S.exports.strict=M(K);m.proto=m(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return m(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return K(this)},configurable:!0})});function m(e){var r=function(){return r.called?r.value:(r.called=!0,r.value=e.apply(this,arguments))};return r.called=!1,r}function K(e){var r=function(){if(r.called)throw new Error(r.onceError);return r.called=!0,r.value=e.apply(this,arguments)},t=e.name||"Function wrapped with `once`";return r.onceError=t+" shouldn't be called more than once",r.called=!1,r}var Ae=S.exports;const Z=Y(Ae);var Te=Z(e=>console.warn(e)),Oe=Z(e=>console.warn(e)),y=class extends Error{constructor(e,r,t){super(e),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="HttpError",this.status=r;let i;"headers"in t&&typeof t.headers<"u"&&(i=t.headers),"response"in t&&(this.response=t.response,i=t.response.headers);const n=Object.assign({},t.request);t.request.headers.authorization&&(n.headers=Object.assign({},t.request.headers,{authorization:t.request.headers.authorization.replace(/ .*$/," [REDACTED]")})),n.url=n.url.replace(/\bclient_secret=\w+/g,"client_secret=[REDACTED]").replace(/\baccess_token=\w+/g,"access_token=[REDACTED]"),this.request=n,Object.defineProperty(this,"code",{get(){return Te(new P("[@octokit/request-error] `error.code` is deprecated, use `error.status`.")),r}}),Object.defineProperty(this,"headers",{get(){return Oe(new P("[@octokit/request-error] `error.headers` is deprecated, use `error.response.headers`.")),i||{}}})}},$e="8.1.0";function Se(e){return e.arrayBuffer()}function _(e){var o,u,f;const r=e.request&&e.request.log?e.request.log:console,t=((o=e.request)==null?void 0:o.parseSuccessResponseBody)!==!1;(B(e.body)||Array.isArray(e.body))&&(e.body=JSON.stringify(e.body));let i={},n,a,{fetch:s}=globalThis;if((u=e.request)!=null&&u.fetch&&(s=e.request.fetch),!s)throw new Error('Global "fetch" not found. Please provide `options.request.fetch` to octokit or upgrade to node@18 or newer.');return s(e.url,{method:e.method,body:e.body,headers:e.headers,signal:(f=e.request)==null?void 0:f.signal,...e.body&&{duplex:"half"}}).then(async c=>{a=c.url,n=c.status;for(const l of c.headers)i[l[0]]=l[1];if("deprecation"in i){const l=i.link&&i.link.match(/<([^>]+)>; rel="deprecation"/),b=l&&l.pop();r.warn(`[@octokit/request] "${e.method} ${e.url}" is deprecated. It is scheduled to be removed on ${i.sunset}${b?`. See ${b}`:""}`)}if(!(n===204||n===205)){if(e.method==="HEAD"){if(n<400)return;throw new y(c.statusText,n,{response:{url:a,status:n,headers:i,data:void 0},request:e})}if(n===304)throw new y("Not modified",n,{response:{url:a,status:n,headers:i,data:await A(c)},request:e});if(n>=400){const l=await A(c);throw new y(ke(l),n,{response:{url:a,status:n,headers:i,data:l},request:e})}return t?await A(c):c.body}}).then(c=>({status:n,url:a,headers:i,data:c})).catch(c=>{throw c instanceof y||c.name==="AbortError"?c:new y(c.message,500,{request:e})})}async function A(e){const r=e.headers.get("content-type");return/application\/json/.test(r)?e.json():!r||/^text\/|charset=utf-8$/.test(r)?e.text():Se(e)}function ke(e){return typeof e=="string"?e:"message"in e?Array.isArray(e.errors)?`${e.message}: ${e.errors.map(JSON.stringify).join(", ")}`:e.message:`Unknown error: ${JSON.stringify(e)}`}function O(e,r){const t=e.defaults(r);return Object.assign(function(n,a){const s=t.merge(n,a);if(!s.request||!s.request.hook)return _(t.parse(s));const o=(u,f)=>_(t.parse(t.merge(u,f)));return Object.assign(o,{endpoint:t,defaults:O.bind(null,t)}),s.request.hook(o,s)},{endpoint:t,defaults:O.bind(null,t)})}var $=O(Ee,{headers:{"user-agent":`octokit-request.js/${$e} ${w()}`}}),qe="7.0.1";function Re(e){return`Request failed due to following response errors:
`+e.errors.map(r=>` - ${r.message}`).join(`
`)}var Ue=class extends Error{constructor(e,r,t){super(Re(t)),this.request=e,this.headers=r,this.response=t,this.name="GraphqlResponseError",this.errors=t.errors,this.data=t.data,Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}},De=["method","baseUrl","url","headers","request","query","mediaType"],xe=["query","method","url"],I=/\/api\/v3\/?$/;function Ne(e,r,t){if(t){if(typeof r=="string"&&"query"in t)return Promise.reject(new Error('[@octokit/graphql] "query" cannot be used as variable name'));for(const s in t)if(xe.includes(s))return Promise.reject(new Error(`[@octokit/graphql] "${s}" cannot be used as variable name`))}const i=typeof r=="string"?Object.assign({query:r},t):r,n=Object.keys(i).reduce((s,o)=>De.includes(o)?(s[o]=i[o],s):(s.variables||(s.variables={}),s.variables[o]=i[o],s),{}),a=i.baseUrl||e.endpoint.DEFAULTS.baseUrl;return I.test(a)&&(n.url=a.replace(I,"/api/graphql")),e(n).then(s=>{if(s.data.errors){const o={};for(const u of Object.keys(s.headers))o[u]=s.headers[u];throw new Ue(n,o,s.data)}return s.data.data})}function k(e,r){const t=e.defaults(r);return Object.assign((n,a)=>Ne(t,n,a),{defaults:k.bind(null,t),endpoint:t.endpoint})}k($,{headers:{"user-agent":`octokit-graphql.js/${qe} ${w()}`},method:"POST",url:"/graphql"});function Pe(e){return k(e,{method:"POST",url:"/graphql"})}var _e=/^v1\./,Ie=/^ghs_/,Ce=/^ghu_/;async function He(e){const r=e.split(/\./).length===3,t=_e.test(e)||Ie.test(e),i=Ce.test(e);return{type:"token",token:e,tokenType:r?"app":t?"installation":i?"user-to-server":"oauth"}}function Fe(e){return e.split(/\./).length===3?`bearer ${e}`:`token ${e}`}async function Ve(e,r,t,i){const n=r.endpoint.merge(t,i);return n.headers.authorization=Fe(e),r(n)}var Le=function(r){if(!r)throw new Error("[@octokit/auth-token] No token passed to createTokenAuth");if(typeof r!="string")throw new Error("[@octokit/auth-token] Token passed to createTokenAuth is not a string");return r=r.replace(/^(token|bearer) +/i,""),Object.assign(He.bind(null,r),{hook:Ve.bind(null,r)})},C="5.0.0",h,Ge=(h=class{static defaults(r){return class extends this{constructor(...i){const n=i[0]||{};if(typeof r=="function"){super(r(n));return}super(Object.assign({},r,n,n.userAgent&&r.userAgent?{userAgent:`${n.userAgent} ${r.userAgent}`}:null))}}}static plugin(...r){var n;const t=this.plugins;return n=class extends this{},n.plugins=t.concat(r.filter(s=>!t.includes(s))),n}constructor(r={}){const t=new ce,i={baseUrl:$.endpoint.DEFAULTS.baseUrl,headers:{},request:Object.assign({},r.request,{hook:t.bind(null,"request")}),mediaType:{previews:[],format:""}};if(i.headers["user-agent"]=[r.userAgent,`octokit-core.js/${C} ${w()}`].filter(Boolean).join(" "),r.baseUrl&&(i.baseUrl=r.baseUrl),r.previews&&(i.mediaType.previews=r.previews),r.timeZone&&(i.headers["time-zone"]=r.timeZone),this.request=$.defaults(i),this.graphql=Pe(this.request).defaults(i),this.log=Object.assign({debug:()=>{},info:()=>{},warn:console.warn.bind(console),error:console.error.bind(console)},r.log),this.hook=t,r.authStrategy){const{authStrategy:a,...s}=r,o=a(Object.assign({request:this.request,log:this.log,octokit:this,octokitOptions:s},r.auth));t.wrap("request",o.hook),this.auth=o}else if(!r.auth)this.auth=async()=>({type:"unauthenticated"});else{const a=Le(r.auth);t.wrap("request",a.hook),this.auth=a}this.constructor.plugins.forEach(a=>{Object.assign(this,a(this,r))})}},h.VERSION=C,h.plugins=[],h);export{Ge as Octokit};
